---
layout: post
title: 质保
category: meeting note
tags: notes
keywords:  
description:
---
## 级别：100G--2T 级别的量级，月活是2T？

盲点：
* 小规模的团队（20+产品团队）
* 用户量大（千万级别月活）

## 前者借鉴
* whatapp，50+
* instagram 13+,2012年 7.5亿元美金
* 小而美公司，高质量的产品

## 接口测试自动化：
* 机器代替人
* 尽可能让所有的环节自动化

移动端：
monkey test
上线前跑一个晚上的monkey
* 逻辑业务深入，并不能深入
* 点点点的monkey
* 客户端兼容性问题，性能问题，不能排除，仅仅解决部分的问题

## 服务端：
接口（返回的数据错误，异常的边界上处理，造成客户端的崩溃，访问量大压力）
* 正确性Accuracy
* 失败Failure
* 压力Stress
* AFS (接口所有的正确，失败，压力测试)
## 服务器-单元测试：
* docker（各个服务拆分小的微服务，扩容某个接口的微服务）

对于其他的依赖mock出来，小服务单元测试
* UI TEST 不够敏捷（两周发布一个版本）：写一次持续使用？不够敏捷，
  * 用户，界面基本固定，用来回归
  * 放弃，因为敏捷
*

## 功能测试？质量保证，QA 不等于 TEST，手段保证质量合格
* 团队质量保证

## 小猿搜题的测试QA框架（借鉴）
* 灰度发布
* 热补丁
* 数据监控和报警
* USER TRACKER
* 特性开关
* 流程&制度
### 灰度发布：
iOS 分阶段发布，iTunes后台，
* 5% 更新，10% 更新，80%，100%
* 用户反馈，崩溃率，报警，监控（可以暂停发布，苹果不能撤回发布）

android发布：
1.千万分之一 0.001% --》10%，各大市场发包，发布
2.搭建后台更新，监控发布，暂停发布，观察2-3天的时间

### 热补丁
Android
* tinker修改补丁
* 注意安全：黑客替换，本地加密，签名机制
* 回退机制
* 不随便发布：不让补丁升级小补丁
* 补丁也需要测试

iOS
* JSPatch 一类补丁机制
### 数据监控和报警（用户大数据，细粒度的分析，数据正常与问题，监控报警提醒）
* FROG（客户端的日志-收集系统：用户停留，滑动，发送请求，行为参数-ip，账号，网络，tcp握手时间，上行、下行，触发请求 等等）
* hbase 数据收集
* hive 数据监控-分布式计算系统

安卓的权限设置，复杂，安全软件（截获权限，不让打开）
核心指标：客户端打开相机，记录日志下来，对应的机型尝试打开相机-PV，UV预值权限问题
小样本，监控数据的异常
PV pageview
UV user	Unique Visitor,
IP
	    来说明一下	PV	高不一定代表来访者多；	PV	与来访者的数量成正比，但是	PV	并不直接决定页面的真实来访者数量。比如一个网站就你一个人进来，通过不断的刷新页面，也可以制造出非常高的	PV	。


### USER TRACKER 用户跟踪器
用户的行为url，还原用户行为分析，什么时候点击什么按钮，发送什么请求。
* 绕过系统api的调用，问题就消失了

### 特性开关
- AB测试
- 特性开关
* PUSH模式
* PULL模式
### 流程&制度
* 不能压缩测试时间：50%的开发时间安排测试
* 测试决定质量是否符合要求
* 质量周报：每次线上事故都需要总结和反思

>总结：
>
- 1.产品的迭代速度与质量 同样重要
- 2.团队的敏捷与 质量 同样重要（小而美，沟通成本小）
- 3.质量不仅是测试的工作，所有人都应该为质量负责

所有问题，测试压力大，崩溃
敏捷的质量保证思路
* 不苛求把所有BUG都消灭在上线前，但是要求所有bug带来的影响都是可控的！
* 影响的是小量的线上用户，可接受的！
